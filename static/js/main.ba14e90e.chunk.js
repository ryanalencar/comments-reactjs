(this.webpackJsonpcomments=this.webpackJsonpcomments||[]).push([[0],{18:function(e,t,a){e.exports=a(35)},24:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),c=a.n(s),o=a(7),i=a.n(o),l=a(10),m=a(2),u=a(3),h=a(5),p=a(4),d=a(6),E=function(e){var t=e.c;return t&&(t.comment&&t.email?(t.comment,t.email):("vazioo","vazioo")),r.a.createElement("div",{className:"container"},"Enviado por: ",t.email,r.a.createElement("br",null),"Comment: ",t.comment,r.a.createElement("hr",null))},v=function(e){var t=e.comments,a=Object.keys(t);return r.a.createElement("div",null,a.map((function(e){return r.a.createElement(E,{c:t[e]})})))},f=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={newComments:"",empty:!0},a.handleChange=function(e){var t=e.target.value;""===t?(a.setState({empty:!0}),console.log(t)):(a.setState({empty:!1,newComments:t}),console.log(t))},a.sendComment=function(e){if(e.preventDefault(),a.state.empty)return a.setState({newComments:""}),alert("N\xe3o \xe9 poss\xedvel enviar mensagens vazias");a.props.sendComment(a.state.newComments),a.setState({newComments:"",empty:!0})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.sendComment},r.a.createElement("textarea",{className:"form-control textareaInput",value:this.state.newComments,onChange:this.handleChange}),r.a.createElement("button",{className:"button mb-5 mt-2",type:"submit"},"Enviar")))}}]),t}(n.Component),g=a(9),b=function(){return r.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light mb-4"},r.a.createElement("div",{class:"container"},r.a.createElement("a",{class:"navbar-brand"},"CommmentApp")))},C=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",pass:""},a.handleChange=function(e){return function(t){a.setState(Object(g.a)({},e,t.target.value))}},a.login=function(){a.props.login(a.state.email,a.state.pass)},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-center display-4 my-4"},"Entre para comentar ou crie uma conta:"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{type:"text",id:"email",className:"form-control",onChange:this.handleChange("email"),placeholder:"Digite seu email"})),r.a.createElement("div",{className:"col-6"},r.a.createElement("label",{htmlFor:"pass"},"Senha:"),r.a.createElement("input",{type:"password",id:"pass",className:"form-control",onChange:this.handleChange("pass"),placeholder:"Digite sua senha"}))),this.props.isAuthError&&r.a.createElement("div",{class:"notif notif--error"},r.a.createElement("div",{class:"notif__content"},r.a.createElement("i",{class:"material-icons notif__icon"},"error"),r.a.createElement("div",null,r.a.createElement("h1",{class:"notif__title"},"Erro ao autenticar"),r.a.createElement("span",{class:"notif__subtitle"},{"auth/invalid-email":"E-mail inv\xe1lido","auth/user-not-found":"Usu\xe1rio n\xe3o encontrado","auth/wrong-password":"E-mail ou senha inv\xe1lidos"}[this.props.authError])))),r.a.createElement("div",{className:"row my-4"},r.a.createElement("div",{className:"col-2"}),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{type:"button",className:"button",onClick:this.login},"Entrar")),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{type:"button",className:"button",onClick:function(){return e.props.changeScreen("signUp")}},"Criar conta")),r.a.createElement("div",{className:"col-2"}))))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",pass:""},a.handleChange=function(e){return function(t){a.setState(Object(g.a)({},e,t.target.value))}},a.createAccount=function(){a.props.createAccount(a.state.email,a.state.pass)},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-center display-4 my-4"},"Criar Conta"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{type:"text",id:"email",className:"form-control",onChange:this.handleChange("email"),placeholder:"Digite seu email"})),r.a.createElement("div",{className:"col-6"},r.a.createElement("label",{htmlFor:"pass"},"Senha"),r.a.createElement("input",{type:"password",id:"pass",className:"form-control",onChange:this.handleChange("pass"),placeholder:"Digite sua senha"}))),this.props.isSignUpError&&r.a.createElement("div",null,r.a.createElement("div",{class:"notif notif--error"},r.a.createElement("div",{class:"notif__content"},r.a.createElement("i",{class:"material-icons notif__icon"},"error"),r.a.createElement("div",null,r.a.createElement("h1",{class:"notif__title"},"Erro ao cadastrar"),r.a.createElement("span",{class:"notif__subtitle"},{"auth/invalid-email":"E-mail inv\xe1lido","auth/weak-password":"Senha fraca","auth/email-already-in-use":"E-mail j\xe1 est\xe1 em uso"}[this.props.signUpError]))))),r.a.createElement("div",{className:"row my-4"},r.a.createElement("div",{className:"col-2"}),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{type:"button",className:"button",onClick:this.createAccount},"Criar conta")),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{type:"button",className:"button",onClick:function(){return e.props.changeScreen("login")}},"J\xe1 tenho uma conta, entrar!")),r.a.createElement("div",{className:"col-2"}))))}}]),t}(n.Component),S=(a(24),function(e){return r.a.createElement("div",null,r.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light mb-4"},r.a.createElement("div",{class:"container"},r.a.createElement("a",{class:"navbar-brand"},"CommmentApp"),"Logado como: ",e.email,r.a.createElement("button",{onClick:e.logout,className:"exit-btn"},r.a.createElement("i",{className:"material-icons"},"exit_to_app")))))}),w=(a(25),a(26),a(27),a(28),a(29),a(11)),N=a.n(w);a(30),a(33);N.a.initializeApp({apiKey:"AIzaSyCl_gXoAcO_nDVOs5LsfSS59vwD8hEo58Q",authDomain:"comments-react-53132.firebaseapp.com",databaseURL:"https://comments-react-53132.firebaseio.com",projectId:"comments-react-53132",storageBucket:"comments-react-53132.appspot.com",messagingSenderId:"155358327450",appId:"1:155358327450:web:e2dde1b8d57cfd14586523",measurementId:"G-CHLPW5VSTY"});var A=N.a.database(),O=N.a.auth(),j=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={comments:{},isLoading:!1,isAuth:!1,isAuthError:!1,authError:"",isSignUpError:!1,signUpError:"",user:{},userScreen:"login"},a.sendComment=function(e){var t={};t["comments/"+A.ref().child("comments").push().key]={comment:e,email:a.state.user.email,userId:a.state.user.uid},A.ref().update(t)},a.login=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props.auth,a.setState({isAuthError:!1,authError:""}),e.prev=2,e.next=5,r.signInWithEmailAndPassword(t,n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),a.setState({isAuthError:!0,authError:e.t0.code});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,a){return e.apply(this,arguments)}}(),a.createAccount=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props.auth,a.setState({signUpError:"",isSignUpError:!1}),e.prev=2,e.next=5,r.createUserWithEmailAndPassword(t,n);case 5:console.log("Cadastrar: ",t,n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a.setState({isSignUpError:!0,signUpError:e.t0.code});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,a){return e.apply(this,arguments)}}(),a.logout=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props;case 2:t=e.sent,t.auth.signOut();case 5:case"end":return e.stop()}}),e)}))),a.changeScreen=function(e){a.setState({userScreen:e})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.database,n=t.auth;this.setState({isLoading:!0}),this.comments=a.ref("comments"),this.comments.on("value",(function(t){e.setState({comments:t.val(),isLoading:!1})})),n.onAuthStateChanged((function(t){t?e.setState({isAuth:!0,user:t}):e.setState({isAuth:!1,user:{}}),console.log(t)}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.isAuth&&r.a.createElement(S,{email:this.state.user.email,logout:this.logout}),!this.state.isAuth&&"login"===this.state.userScreen&&r.a.createElement(C,{login:this.login,isAuthError:this.state.isAuthError,authError:this.state.authError,changeScreen:this.changeScreen}),!this.state.isAuth&&"signUp"===this.state.userScreen&&r.a.createElement(y,{createAccount:this.createAccount,isSignUpError:this.state.isSignUpError,signUpError:this.state.signUpError,changeScreen:this.changeScreen}),this.state.isAuth&&r.a.createElement(f,{sendComment:this.sendComment,newComments:this.state.newComments}),r.a.createElement(v,{comments:this.state.comments}),this.state.isLoading&&r.a.createElement("p",null,"Carregando..."))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(j,{database:A,auth:O}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.ba14e90e.chunk.js.map